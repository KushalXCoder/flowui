---
title: Debounced Input
description: An enhanced Input component that delays value updates, perfect for search fields and performance-sensitive forms.
---

import { Tabs, Tab } from 'fumadocs-ui/components/tabs';
import { Step, Steps } from 'fumadocs-ui/components/steps';
import { Callout } from 'fumadocs-ui/components/callout';
import DebouncedInput from '@/components/flowui/input';
import { Timer, Search, Zap } from 'lucide-react';

## Installation

<Steps>
<Step>

### Install Shadcn Input
This component is built on top of the Shadcn UI Input component. If you haven't installed it yet, run:

```bash
npx shadcn@latest add input
```
</Step>

<Step>

### Create the Component
Create a new file named `debounced-input.tsx` in your components folder (e.g., `components/ui/debounced-input.tsx`) and copy the code below.

```tsx title="components/ui/debounced-input.tsx"
"use client";

import { Input } from "@/components/ui/input";
import { cn } from "@/lib/utils";
import { useEffect, useState } from "react";

type DebouncedInputProps = {
    debouncing?: boolean;
    debouncingValue?: number;
    onDebouncedChange?: (value: string) => void;
    className?: string;
} & React.ComponentProps<typeof Input>;

const DebouncedInput = ({ debouncing, debouncingValue = 500, onDebouncedChange, className, ...props }: DebouncedInputProps) => {
    const isControlled = props.value !== undefined;

    // This is used so that user typing is not affected by the debouncing
    const [input, setInput] = useState(
        isControlled ?
        (props.value as string) :
        (props.defaultValue as string) ?? ""
    );

    useEffect(() => {
        if (isControlled) {
            setInput(props.value as string);
        }
    }, [props.value, isControlled]);

    useEffect(() => {
        if(!debouncing) return;

        // Set timer
        const timer = setTimeout(() => {
            onDebouncedChange?.(input);
        }, debouncingValue);

        // Clear timeout
        return () => clearTimeout(timer);
    }, [input, debouncing, debouncingValue]);

    return (
        <Input
            {...props}
            value={isControlled ? props.value : input}
            onChange={(e) => {
                if(!isControlled) {
                    setInput(e.target.value);
                }
                props.onChange?.(e);
            }}
            className={cn(className)}
        />
    )
}

export default DebouncedInput;
```

</Step>
</Steps>

## Usage

<Tabs items={['Basic', 'Controlled', 'API Search']}>
<Tab value="Basic">
```tsx
import DebouncedInput from "@/components/ui/debounced-input"

export function BasicExample() {
  return (
    <DebouncedInput 
      debouncing 
      debouncingValue={500}
      onDebouncedChange={(val) => console.log(val)}
      placeholder="Type safely..."
    />
  )
}
```
</Tab>

<Tab value="Controlled">
```tsx
import { useState } from "react"
import DebouncedInput from "@/components/ui/debounced-input"

export function ControlledExample() {
  const [value, setValue] = useState("")

  return (
    <DebouncedInput 
        value={value}
        onChange={(e) => setValue(e.target.value)}
        debouncing
        onDebouncedChange={(val) => console.log("Final:", val)}
    />
  )
}
```
</Tab>
<Tab value="API Search">
```tsx
import DebouncedInput from "@/components/ui/debounced-input"

export function SearchExample() {
  const handleSearch = (query: string) => {
    if (!query) return;
    // Perform API call here
    console.log(`Searching for: ${query}`);
  }

  return (
    <DebouncedInput 
        placeholder="Search users..."
        debouncing
        debouncingValue={300} // Wait 300ms after last keystroke
        onDebouncedChange={handleSearch}
    />
  )
}
```
</Tab>
</Tabs>

## Props

The `DebouncedInput` accepts all props from the standard HTML input element (via Shadcn `Input`), plus the following:

| Prop | Type | Default | Description |
| :--- | :--- | :--- | :--- |
| `debouncing` | `boolean` | `false` | Enables the debouncing functionality. |
| `debouncingValue` | `number` | `500` | The delay in milliseconds before the `onDebouncedChange` callback is triggered. |
| `onDebouncedChange` | `(value: string) => void` | - | Callback function triggered after the debounce delay. Receives the current input value. |
| `className` | `string` | - | Additional CSS classes to apply to the input. |

<Callout title="Note" type="warn">
  If `debouncing` is false, `onDebouncedChange` will **not** be called. You should use the standard `onChange` prop in that case, or ensure `debouncing` is true if you want the delayed callback.
</Callout>

<h3>Example</h3>

import { DebouncedInputDemo } from '@/components/previews/debounced-input-demo';

<div className="rounded-xl border bg-card text-card-foreground shadow-sm px-6 pt-2 pb-6">
    <p className="text-sm text-muted-foreground">Try typing below to see the debouncing effect.</p>
    <div className="mt-1">
        <DebouncedInputDemo />
    </div>
</div>

<Callout title="Note" type="warn">
  Check your `console` to see the debouncing effect.
</Callout>

## Concepts
<h3 className="mt-8">What is debouncing ?</h3>

Debouncing is a programming practice used to ensure that time-consuming tasks do not fire so often, making them inefficient. In the context of an Input, it limits the rate at which a function fires.

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 my-6">
  <div className="p-4 border rounded-lg bg-card">
    <div className="flex items-center gap-2 mb-2 font-semibold text-red-500">
      <Zap size={20} />
      <span>Without Debouncing</span>
    </div>
    <p className="text-sm text-muted-foreground mb-4">
      An API call or state update happens on <strong>every keystroke</strong>.
    </p>
    <div className="space-y-1 text-xs font-mono bg-muted p-2 rounded">
      <div>Input: "S" -> Call API</div>
      <div>Input: "Se" -> Call API</div>
      <div>Input: "Sea" -> Call API</div>
      <div>Input: "Sear" -> Call API</div>
      <div>Input: "Search" -> Call API</div>
    </div>
  </div>
  
  <div className="p-4 border rounded-lg bg-card">
    <div className="flex items-center gap-2 mb-2 font-semibold text-green-500">
      <Timer size={20} />
      <span>With Debouncing</span>
    </div>
    <p className="text-sm text-muted-foreground mb-4">
      The action waits until the user <strong>stops typing</strong> for a set duration.
    </p>
    <div className="space-y-1 text-xs font-mono bg-muted p-2 rounded">
      <div>Input: "S" ...</div>
      <div>Input: "Se" ...</div>
      <div>Input: "Sea" ...</div>
      <div>Input: "Sear" ...</div>
      <div>Input: "Search" -> <strong>Call API (Once)</strong></div>
    </div>
  </div>
</div>